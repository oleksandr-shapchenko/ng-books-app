import{A as qt,B as zt,C as Ut,D as P,E as Ht,F as Qt,a as _t,b as kt,c as Ct,d as yt,e as xt,g as St,h as Dt,i as Bt,j as wt,k as Ft,l as O,m as Et,n as G,o as At,p as R,q as Ot,r as Gt,s as S,t as L,u as Rt,v as Lt,w as Pt,x as Nt,y as Vt,z as jt}from "./chunk-FHTB2GHB.js";import{o as vt,t as Mt,w as It,x as Tt}from "./chunk-P6WBFVPQ.js";import"./chunk-XAZLOLJU.js";import{g as ht,j as ft}from "./chunk-ZDALHIYY.js";import{$b as Y,Aa as E,Bb as dt,Da as Q,Db as C,Ea as M,Eb as f,Fa as rt,Fb as T,Gb as y,Hb as ct,Ib as st,Jb as mt,Kb as X,Lb as $,Ob as ut,Pb as s,Qb as x,Rb as gt,Sb as pt,Tb as p,Ya as i,Z as at,Za as v,a as tt,b as et,ba as B,cc as _,ea as w,hb as lt,ia as g,ka as I,lb as W,ob as b,ra as ot,rb as A,sa as nt,sb as c,ub as F,uc as bt,wa as it,wb as h,xb as r,yb as n,zb as m}from "./chunk-RLV5OM3A.js";var ne=["*"],ie=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],re=[`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,`[mat-card-image], [matCardImage],
                    [mat-card-sm-image], [matCardImageSmall],
                    [mat-card-md-image], [matCardImageMedium],
                    [mat-card-lg-image], [matCardImageLarge],
                    [mat-card-xl-image], [matCardImageXLarge]`,"*"],le=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],de=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],ce=new B("MAT_CARD_CONFIG"),Wt=(()=>{class a{constructor(t){this.appearance=t?.appearance||"raised"}static{this.\u0275fac=function(e){return new(e||a)(v(ce,8))}}static{this.\u0275cmp=g({type:a,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,o){e&2&&F("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[p],ngContentSelectors:ne,decls:1,vars:0,template:function(e,o){e&1&&(T(),y(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return a})(),Xt=(()=>{class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275dir=I({type:a,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}}return a})(),$t=(()=>{class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275cmp=g({type:a,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],standalone:!0,features:[p],ngContentSelectors:re,decls:4,vars:0,template:function(e,o){e&1&&(T(ie),r(0,"div"),y(1),n(),y(2,1),y(3,2))},encapsulation:2,changeDetection:0})}}return a})(),Yt=(()=>{class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275dir=I({type:a,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return a})(),Zt=(()=>{class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275dir=I({type:a,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}}return a})();var Jt=(()=>{class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275cmp=g({type:a,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[p],ngContentSelectors:de,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,o){e&1&&(T(le),y(0),r(1,"div",0),y(2,1),n(),y(3,2))},encapsulation:2,changeDetection:0})}}return a})();var N=class a{book=M.required();static \u0275fac=function(t){return new(t||a)};static \u0275cmp=g({type:a,selectors:[["app-book-item"]],inputs:{book:[1,"book"]},standalone:!0,features:[p],decls:11,vars:4,consts:[["appearance","raised"],["mat-card-sm-image","","priority","","width","82","height","82","alt","book cover",3,"ngSrc"]],template:function(t,e){t&1&&(r(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title-group")(3,"mat-card-title"),s(4),n(),r(5,"mat-card-subtitle"),s(6),n(),m(7,"img",1),n()(),r(8,"mat-card-content")(9,"span"),s(10),n()()()),t&2&&(i(4),x(e.book().title),i(2),x(e.book().author),i(),c("ngSrc",e.book().coverImageUrl||"/img/book-cover/placeholder.png"),i(3),gt("Year: ",e.book().year,""))},dependencies:[Wt,Jt,$t,Xt,Zt,Yt,bt],styles:["[_nghost-%COMP%]{height:fit-content;display:block;padding-right:8px;cursor:pointer}"],changeDetection:0})};function se(a,d){if(a&1&&m(0,"app-book-item",2),a&2){let t=d.$implicit;ct("routerLink","/books/",t.id,""),c("book",t)}}function me(a,d){if(a&1&&b(0,se,1,3,"app-book-item",4),a&2){let t=f(2);c("cdkVirtualForOf",t.books())}}function ue(a,d){a&1&&(r(0,"div",3),s(1,"No items for current search criteria"),n())}function ge(a,d){if(a&1&&(r(0,"cdk-virtual-scroll-viewport",0),b(1,me,1,1,"app-book-item",2)(2,ue,2,0,"div",3),n()),a&2){let t=f();i(),h(t.books().length?1:2)}}function pe(a,d){a&1&&(r(0,"div",1),m(1,"mat-spinner"),n())}var j=class a{books=M.required();isLoading=M.required();static \u0275fac=function(t){return new(t||a)};static \u0275cmp=g({type:a,selectors:[["app-book-list"]],inputs:{books:[1,"books"],isLoading:[1,"isLoading"]},standalone:!0,features:[p],decls:2,vars:1,consts:[["itemSize","150","minBufferPx","300","maxBufferPx","600",1,"books-viewport"],[1,"spinner-container"],[3,"book","routerLink"],[1,"no-items"],[3,"book","routerLink",4,"cdkVirtualFor","cdkVirtualForOf"]],template:function(t,e){t&1&&b(0,ge,3,1,"cdk-virtual-scroll-viewport",0)(1,pe,2,0,"div",1),t&2&&h(e.isLoading()?1:0)},dependencies:[xt,kt,yt,Ct,N,ht,Et],styles:[".books-viewport[_ngcontent-%COMP%]{height:calc(100dvh - (var(--mat-toolbar-standard-height) + 20px) - 20px - 76px);width:100%}app-book-item[_ngcontent-%COMP%]{margin-bottom:12px}.no-items[_ngcontent-%COMP%]{display:flex;justify-content:center;color:#a9a9a9}.spinner-container[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center}"],changeDetection:0})};var be=["button"],he=["*"];function fe(a,d){if(a&1&&m(0,"mat-pseudo-checkbox",3),a&2){let t=f();c("disabled",t.disabled)}}function ve(a,d){if(a&1&&m(0,"mat-pseudo-checkbox",3),a&2){let t=f();c("disabled",t.disabled)}}var Kt=new B("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:_e});function _e(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var te=new B("MatButtonToggleGroup"),ke={provide:Ot,useExisting:at(()=>Z),multi:!0},ee=0,q=class{constructor(d,t){this.source=d,this.value=t}},Z=(()=>{class a{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get value(){let t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(e=>e.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){let t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=t,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(t){this._hideMultipleSelectionIndicator=t,this._markButtonsForCheck()}constructor(t,e,o){this._changeDetector=t,this._dir=o,this._multiple=!1,this._disabled=!1,this._disabledInteractive=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${ee++}`,this.valueChange=new E,this.change=new E,this.appearance=e&&e.appearance?e.appearance:"standard",this.hideSingleSelectionIndicator=e?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=e?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new _t(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked)),this.multiple||this._initializeTabIndex()}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_keydown(t){if(this.multiple||this.disabled)return;let o=t.target.id,l=this._buttonToggles.toArray().findIndex(k=>k.buttonId===o),u=null;switch(t.keyCode){case 32:case 13:u=this._buttonToggles.get(l)||null;break;case 38:u=this._getNextButton(l,-1);break;case 37:u=this._getNextButton(l,this.dir==="ltr"?-1:1);break;case 40:u=this._getNextButton(l,1);break;case 39:u=this._getNextButton(l,this.dir==="ltr"?1:-1);break;default:return}u&&(t.preventDefault(),u._onButtonClick(),u.focus())}_emitChangeEvent(t){let e=new q(t,this.value);this._rawValue=e.value,this._controlValueAccessorChangeFn(e.value),this.change.emit(e)}_syncButtonToggle(t,e,o=!1,l=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):l=!0,l?Promise.resolve().then(()=>this._updateModelValue(t,o)):this._updateModelValue(t,o)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>t.value!=null&&e===t.value):t.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(t=>{t.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let t=0;t<this._buttonToggles.length;t++){let e=this._buttonToggles.get(t);if(!e.disabled){e.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(t,e){let o=this._buttonToggles;for(let l=1;l<=o.length;l++){let u=(t+e*l+o.length)%o.length,k=o.get(u);if(k&&!k.disabled)return k}return null}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(e=>this._selectValue(e))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>{t.checked=!1,this.multiple||(t.tabIndex=-1)})}_selectValue(t){let e=this._buttonToggles.find(o=>o.value!=null&&o.value===t);e&&(e.checked=!0,this._selectionModel.select(e),this.multiple||(e.tabIndex=0))}_updateModelValue(t,e){e&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}static{this.\u0275fac=function(e){return new(e||a)(v(Y),v(Kt,8),v(vt,8))}}static{this.\u0275dir=I({type:a,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,o,l){if(e&1&&st(l,J,5),e&2){let u;X(u=$())&&(o._buttonToggles=u)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(e,o){e&1&&C("keydown",function(u){return o._keydown(u)}),e&2&&(A("role",o.multiple?"group":"radiogroup")("aria-disabled",o.disabled),F("mat-button-toggle-vertical",o.vertical)("mat-button-toggle-group-appearance-standard",o.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",_],value:"value",multiple:[2,"multiple","multiple",_],disabled:[2,"disabled","disabled",_],disabledInteractive:[2,"disabledInteractive","disabledInteractive",_],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",_],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",_]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[pt([ke,{provide:te,useExisting:a}]),W]})}}return a})(),J=(()=>{class a{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(t){this._tabIndex=t,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=t}get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}constructor(t,e,o,l,u,k){this._changeDetectorRef=e,this._elementRef=o,this._focusMonitor=l,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new E;let H=Number(u);this.tabIndex=H||H===0?H:null,this.buttonToggleGroup=t,this.appearance=k&&k.appearance?k.appearance:"standard",this.disabledInteractive=k?.disabledInteractive??!1}ngOnInit(){let t=this.buttonToggleGroup;this.id=this.id||`mat-button-toggle-${ee++}`,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){if(this.disabled)return;let t=this.isSingleSelector()?!0:!this._checked;if(t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let e=this.buttonToggleGroup._buttonToggles.find(o=>o.tabIndex===0);e&&(e.tabIndex=-1),this.tabIndex=0}this.change.emit(new q(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static{this.\u0275fac=function(e){return new(e||a)(v(te,8),v(Y),v(rt),v(Mt),it("tabindex"),v(Kt,8))}}static{this.\u0275cmp=g({type:a,selectors:[["mat-button-toggle"]],viewQuery:function(e,o){if(e&1&&mt(be,5),e&2){let l;X(l=$())&&(o._buttonElement=l.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(e,o){e&1&&C("focus",function(){return o.focus()}),e&2&&(A("aria-label",null)("aria-labelledby",null)("id",o.id)("name",null),F("mat-button-toggle-standalone",!o.buttonToggleGroup)("mat-button-toggle-checked",o.checked)("mat-button-toggle-disabled",o.disabled)("mat-button-toggle-disabled-interactive",o.disabledInteractive)("mat-button-toggle-appearance-standard",o.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",_],appearance:"appearance",checked:[2,"checked","checked",_],disabled:[2,"disabled","disabled",_],disabledInteractive:[2,"disabledInteractive","disabledInteractive",_]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[W,p],ngContentSelectors:he,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,o){if(e&1){let l=dt();T(),r(0,"button",1,0),C("click",function(){return ot(l),nt(o._onButtonClick())}),r(2,"span",2),b(3,fe,1,1,"mat-pseudo-checkbox",3)(4,ve,1,1,"mat-pseudo-checkbox",3),y(5),n()(),m(6,"span",4)(7,"span",5)}if(e&2){let l=ut(1);c("id",o.buttonId)("disabled",o.disabled&&!o.disabledInteractive||null),A("role",o.isSingleSelector()?"radio":"button")("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-pressed",o.isSingleSelector()?null:o.checked)("aria-checked",o.isSingleSelector()?o.checked:null)("name",o._getButtonName())("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-disabled",o.disabled&&o.disabledInteractive?"true":null),i(3),h(o.buttonToggleGroup&&o.checked&&!o.buttonToggleGroup.multiple&&!o.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),i(),h(o.buttonToggleGroup&&o.checked&&o.buttonToggleGroup.multiple&&!o.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),i(3),c("matRippleTrigger",l)("matRippleDisabled",o.disableRipple||o.disabled)}},dependencies:[It,Tt],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0})}}return a})();var z=class a{query=M.required();order=M.required();queryChange=Q();orderChange=Q();static \u0275fac=function(t){return new(t||a)};static \u0275cmp=g({type:a,selectors:[["app-books-filter"]],inputs:{query:[1,"query"],order:[1,"order"]},outputs:{queryChange:"queryChange",orderChange:"orderChange"},standalone:!0,features:[p],decls:9,vars:2,consts:[["matInput","","placeholder","Enter book's title",3,"keyup","value"],[3,"ngModelChange","ngModel"],["value","asc"],["value","desc"]],template:function(t,e){t&1&&(r(0,"mat-form-field")(1,"mat-label"),s(2,"Filter"),n(),r(3,"input",0),C("keyup",function(l){return e.queryChange.emit(l.target.value)}),n()(),r(4,"mat-button-toggle-group",1),C("ngModelChange",function(l){return e.orderChange.emit(l)}),r(5,"mat-button-toggle",2),s(6,"Ascending"),n(),r(7,"mat-button-toggle",3),s(8,"Descending"),n()()),t&2&&(i(3),c("value",e.query()),i(),c("ngModel",e.order()))},dependencies:[R,G,P,J,Z,zt,L,Lt],styles:["[_nghost-%COMP%]{height:76px;width:100%;display:flex;align-items:center;justify-content:center;column-gap:14px}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-button-toggle-group[_ngcontent-%COMP%]{width:270px;height:fit-content;margin-bottom:20px}"],changeDetection:0})};function ye(a,d){if(a&1&&(r(0,"mat-error"),s(1),n()),a&2){let t=f();i(),x(t.errorMessage())}}function xe(a,d){if(a&1&&(r(0,"mat-error"),s(1),n()),a&2){let t=f();i(),x(t.errorMessage())}}function Me(a,d){if(a&1&&(r(0,"mat-error"),s(1),n()),a&2){let t=f();i(),x(t.errorMessage())}}function Ie(a,d){if(a&1&&(r(0,"mat-error"),s(1),n()),a&2){let t=f();i(),x(t.errorMessage())}}function Te(a,d){if(a&1&&(r(0,"mat-error"),s(1),n()),a&2){let t=f();i(),x(t.errorMessage())}}var U=class a{form=w(qt).group({title:[null,[S.required]],author:[null,[S.required]],year:[null,[S.required]],publisher:[null,[S.required]],description:[null,[S.required]],coverImage:[null]});errorMessage=lt("This field is required");getDialogResult(){let d=Math.floor(Math.random()*9e3+1e3);return et(tt({},this.form.value),{id:d})}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=g({type:a,selectors:[["app-book-create-dialog"]],standalone:!0,features:[p],decls:37,vars:15,consts:[["mat-dialog-title","",1,"title"],["fontIcon","close",3,"mat-dialog-close"],[3,"formGroup"],[1,"form-fields"],["appearance","outline"],["matInput","","placeholder","Enter title",3,"formControl"],["matInput","","placeholder","Enter author",3,"formControl"],["type","number","matInput","","placeholder","Enter year",3,"formControl"],["matInput","","placeholder","Enter publisher",3,"formControl"],["matInput","","placeholder","Enter description",3,"formControl"],["label","Cover Image",3,"formControl"],["mat-flat-button","",3,"disabled","mat-dialog-close"]],template:function(t,e){t&1&&(r(0,"h2",0),s(1," Add Book "),m(2,"mat-icon",1),n(),r(3,"mat-dialog-content")(4,"form",2)(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),s(8,"Title"),n(),m(9,"input",5),b(10,ye,2,1,"mat-error"),n(),r(11,"mat-form-field",4)(12,"mat-label"),s(13,"Author"),n(),m(14,"input",6),b(15,xe,2,1,"mat-error"),n()(),r(16,"div",3)(17,"mat-form-field",4)(18,"mat-label"),s(19,"Year"),n(),m(20,"input",7),b(21,Me,2,1,"mat-error"),n(),r(22,"mat-form-field",4)(23,"mat-label"),s(24,"Publisher"),n(),m(25,"input",8),b(26,Ie,2,1,"mat-error"),n()(),r(27,"mat-form-field",4)(28,"mat-label"),s(29,"Description"),n(),m(30,"textarea",9),b(31,Te,2,1,"mat-error"),n(),r(32,"div"),m(33,"app-file-upload",10),n()()(),r(34,"mat-dialog-actions")(35,"button",11),s(36," Update "),n()()),t&2&&(i(2),c("mat-dialog-close",!1),i(2),c("formGroup",e.form),i(5),c("formControl",e.form.controls.title),i(),h(e.form.controls.title.invalid?10:-1),i(4),c("formControl",e.form.controls.author),i(),h(e.form.controls.author.invalid?15:-1),i(5),c("formControl",e.form.controls.year),i(),h(e.form.controls.year.invalid?21:-1),i(4),c("formControl",e.form.controls.publisher),i(),h(e.form.controls.publisher.invalid?26:-1),i(4),c("formControl",e.form.controls.description),i(),h(e.form.controls.description.invalid?31:-1),i(2),c("formControl",e.form.controls.coverImage),i(2),c("disabled",e.form.invalid)("mat-dialog-close",e.getDialogResult()))},dependencies:[Qt,O,Ft,wt,Bt,At,R,Ht,P,G,Ut,Pt,Gt,Nt,L,Rt,Vt,jt,Dt],styles:[".title[_ngcontent-%COMP%]{display:flex;align-items:center}.title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:10px;padding-bottom:10px}form[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;column-gap:8px;margin-bottom:12px}@media (max-width: 500px){form[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%]{flex-direction:column}}"]})};var K=class a{store=w(ft);dialog=w(St);ngOnInit(){let d=this.store.filter.query;this.store.loadByQuery(d)}openCreateDialog(){this.dialog.open(U,{autoFocus:!1}).afterClosed().subscribe(t=>{t&&this.store.createBook(t)})}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=g({type:a,selectors:[["app-books"]],standalone:!0,features:[p],decls:5,vars:4,consts:[[1,"actions"],[3,"queryChange","orderChange","query","order"],["mat-flat-button","",3,"click"],[3,"books","isLoading"]],template:function(t,e){t&1&&(r(0,"div",0)(1,"app-books-filter",1),C("queryChange",function(l){return e.store.updateQuery(l)})("orderChange",function(l){return e.store.updateOrder(l)}),n(),r(2,"button",2),C("click",function(){return e.openCreateDialog()}),s(3,"Add"),n()(),m(4,"app-book-list",3)),t&2&&(i(),c("query",e.store.filter.query())("order",e.store.filter.order()),i(3),c("books",e.store.sortedBooks())("isLoading",e.store.isLoading()))},dependencies:[j,z,O],styles:[".actions[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:20px;margin-left:14px}"]})};export{K as default};
