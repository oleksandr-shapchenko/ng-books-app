<h2 mat-dialog-title class="title">
  Add Book
  <mat-icon
    fontIcon="close"
    [mat-dialog-close]="false"
  ></mat-icon>
</h2>
<mat-dialog-content>
  <form [formGroup]="form">
    <div class="form-fields">
      <mat-form-field appearance="outline">
        <mat-label>Title</mat-label>
        <input
          matInput
          placeholder="Enter title"
          [formControl]="form.controls.title"
        >
        @if (form.controls.title.invalid) {
          <mat-error>{{errorMessage()}}</mat-error>
        }
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Author</mat-label>
        <input
          matInput
          placeholder="Enter author"
          [formControl]="form.controls.author"
        >
        @if (form.controls.author.invalid) {
          <mat-error>{{errorMessage()}}</mat-error>
        }
      </mat-form-field>
    </div>
    <div class="form-fields">
      <mat-form-field appearance="outline">
        <mat-label>Year</mat-label>
        <input
          matInput
          placeholder="Enter year"
          [formControl]="form.controls.year"
        >
        @if (form.controls.year.invalid) {
          <mat-error>{{errorMessage()}}</mat-error>
        }
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Publisher</mat-label>
        <input
          matInput
          placeholder="Enter publisher"
          [formControl]="form.controls.publisher"
        >
        @if (form.controls.publisher.invalid) {
          <mat-error>{{errorMessage()}}</mat-error>
        }
      </mat-form-field>
    </div>
    <mat-form-field appearance="outline">
      <mat-label>Description</mat-label>
      <textarea
        matInput
        placeholder="Enter description"
        [formControl]="form.controls.description"
      ></textarea>
      @if (form.controls.description.invalid) {
        <mat-error>{{errorMessage()}}</mat-error>
      }
    </mat-form-field>
    <div>
      <app-file-upload label="Cover Image" [formControl]="form.controls.coverImage"></app-file-upload>
    </div>
  </form>
</mat-dialog-content>
<mat-dialog-actions>
  <button
    mat-flat-button
    [disabled]="form.invalid"
    [mat-dialog-close]="getDialogResult()"
  >
    Update
  </button>
</mat-dialog-actions>
